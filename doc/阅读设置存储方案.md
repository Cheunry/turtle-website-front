# 阅读设置存储方案说明

## 当前方案：localStorage（浏览器本地存储）

### 存储的设置项
- `readTheme` - 阅读主题（read_style_1 ~ read_style_6）
- `readFontSize` - 字体大小（12-40px）
- `readFontFamily` - 字体家族（YaHei, SimHei, SimSun, KaiTi, PingFang）
- `readingFullscreen` - 全屏状态（临时）

### 为什么使用 localStorage？

#### 1. 性能优势
- **读取速度**：<1ms（直接内存操作）
- **保存速度**：<1ms（同步写入）
- **后端存储**：需要 100-1000ms+（网络请求 + 数据库操作）

#### 2. 用户体验
- ✅ 修改设置立即生效，无延迟
- ✅ 离线可用，不依赖网络
- ✅ 页面加载无需等待接口

#### 3. 技术优势
- ✅ 减少服务器压力（无 API 请求）
- ✅ 降低服务器成本（无数据库读写）
- ✅ 数据隐私（仅存本地）

### 后端存储的缺点

1. **变慢**：每次修改需要网络往返（100-1000ms+）
2. **卡顿**：快速切换设置时会有明显延迟
3. **离线失效**：网络差或断网时无法使用
4. **资源消耗**：占用服务器和数据库资源

### 结论

阅读设置属于**频繁修改、个人偏好、无需实时同步**的数据，使用 localStorage 是最优方案：
- 性能最佳（最快响应）
- 体验最好（即时生效）
- 成本最低（无需服务器资源）

### 如果需要跨设备同步？

可以采用**混合方案**：
1. **优先使用 localStorage**（快速响应）
2. **后台异步同步到服务器**（不阻塞用户操作）
3. **页面加载时合并服务器设置**（可选）

